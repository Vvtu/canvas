(this.webpackJsonpcanvas=this.webpackJsonpcanvas||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(4),o=n.n(i),a=(n(10),n(2)),u=n(5),s="red",x="blue",h="#ddd",v="#000",f=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},d=function(e){return Number.isInteger(e)?e.toFixed(0):e.toFixed(2)},y=function(e){var t=Object(u.a)({},e),n=Math.round(t.x),r=!1;Math.abs(n-t.x)<.1&&(t.x=n,r=!0);var c=Math.round(t.y);return Math.abs(c-t.y)<.2&&(t.y=c,r=!0),r?t:e};function l(e,t){for(var n,r=e.p2.x-e.p1.x,c=t.p2.x-t.p1.x,i=e.p2.y-e.p1.y,o=t.p2.y-t.p1.y,a=i,u=-r,s=e.p1.y*r-e.p1.x*i,x=o,h=-c,v=t.p1.y*c-t.p1.x*o,f=0;f<2;f+=1){if(0!==a){var d=h-u*x/a;if(0!==d){var y=-(v-s*x/a)/d,l=(-s-u*y)/a;return 0===f?{x:l,y:y}:{x:y,y:l}}}n=a,a=u,u=n,n=x,x=h,h=n}return{}}var b=n(1),j=function(e,t){var n,r=t.x-e.x,c=t.y-e.y;if(0===r&&0===c)n="\u0442\u043e\u0447\u043a\u0438 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442";else if(0===r)n="k = \u221e";else{var i=c/r,o=-e.x*i+e.y;n="y = ".concat(d(i)," * x").concat(0===o?"":" ".concat(o>0?"+":""," ").concat(d(o)))}return n},m=function(e){var t=e.width,n=e.height,c=Object(r.useRef)(),i=Object(r.useRef)(),o=Object(r.useRef)(),u=Object(r.useState)(!1),m=Object(a.a)(u,2),O=m[0],p=m[1],g=Object(r.useState)({x:-2,y:-2}),T=Object(a.a)(g,2),w=T[0],E=T[1],L=Object(r.useState)({x:2,y:2}),S=Object(a.a)(L,2),k=S[0],M=S[1],P=Object(r.useState)({x:0,y:-2}),C=Object(a.a)(P,2),F=C[0],R=C[1],I=Object(r.useState)({x:4,y:2}),N=Object(a.a)(I,2),W=N[0],B=N[1],z=Object(r.useState)({}),J=Object(a.a)(z,2),q=J[0],A=J[1],D=Object(r.useCallback)((function(e){var r=e.x,c=e.y;return{x:60*r+t/2,y:60*-c+n/2}}),[n,t]),X=Object(r.useCallback)((function(e){var r=e.x,c=e.y;return{x:(r-t/2)/60,y:-(c-n/2)/60}}),[n,t]);Object(r.useEffect)((function(){return function(){o.current&&clearTimeout(o.current)}}),[]);var Y=function(e){if(c.current&&!1!==O){var t=c.current,n=X({x:e.pageX-t.offsetLeft,y:e.pageY-t.offsetTop}),r=0,i=[f(n,w),f(n,k),f(n,F),f(n,W)];if(i.forEach((function(e,t){e<i[r]&&(r=t)})),i[r]<1)switch(r){case 0:E(n);break;case 1:M(n);break;case 2:R(n);break;case 3:B(n)}o.current&&clearTimeout(o.current),o.current=setTimeout((function(){E(y(w)),M(y(k)),R(y(F)),B(y(W))}),300)}},G=function(){return p(!1)},H=function(){return p(!0)};return Object(r.useEffect)((function(){if(c.current){var e=c.current;return e.addEventListener("mousedown",H),e.addEventListener("mousemove",Y),e.addEventListener("mouseup",G),e.addEventListener("touchstart",H),e.addEventListener("touchend",G),e.addEventListener("touchmove",Y),function(){e.removeEventListener("mousedown",H),e.removeEventListener("mousemove",Y),e.removeEventListener("mouseup",G),e.removeEventListener("touchstart",H),e.removeEventListener("touchend",G),e.removeEventListener("touchmove",Y)}}})),Object(r.useEffect)((function(){if(i.current){var e=i.current,t=e.getContext("2d");if(t){t.strokeStyle=h,t.lineWidth=1,t.beginPath();for(var n=Math.round(Math.max(e.height,e.width)/60/2),r=-n;r<n;r+=1){var c=D({x:r,y:0}),o=D({x:r,y:0});t.moveTo(c.x,0),t.lineTo(o.x,e.height)}for(var a=-n;a<n;a+=1){var u=D({x:0,y:a}),s=D({x:0,y:a});t.moveTo(0,u.y),t.lineTo(e.width,s.y)}t.closePath(),t.stroke(),t.strokeStyle=v,t.lineWidth=1,t.beginPath();var x=D({x:-n,y:0}),f=D({x:n,y:0});t.moveTo(x.x,x.y),t.lineTo(f.x+10,f.y),t.moveTo(e.width-15,f.y-3),t.lineTo(e.width-2,f.y),t.moveTo(e.width-15,f.y+3),t.lineTo(e.width-2,f.y);var d=D({x:0,y:-n}),y=D({x:0,y:n});t.moveTo(d.x,d.y),t.lineTo(y.x,y.y),t.moveTo(y.x-3,15),t.lineTo(y.x,2),t.moveTo(y.x+3,15),t.lineTo(y.x,2),t.closePath(),t.stroke()}}}),[D]),Object(r.useEffect)((function(){if(c.current){var e=c.current,t=e.getContext("2d");if(t){function n(n,r,c){t.strokeStyle=c,t.lineWidth=3,t.beginPath();var i=D(n),o=D(r);t.moveTo(i.x,i.y),t.arc(i.x,i.y,3,0,2*Math.PI,!0),t.moveTo(o.x,o.y),t.arc(o.x,o.y,3,0,2*Math.PI,!0);var a=l({p1:i,p2:o},{p1:{x:0,y:0},p2:{x:0,y:e.height}}),u=l({p1:i,p2:o},{p1:{x:e.width,y:0},p2:{x:e.width,y:e.height}});void 0!==a.x&&void 0!==u.x||(a={x:i.x,y:0},u={x:i.x,y:e.height}),t.moveTo(a.x,a.y),t.lineTo(u.x,u.y),t.closePath(),t.stroke(),t.font="30px serif",t.fillStyle=c,t.fillText("(".concat(d(n.x)," ; ").concat(d(n.y)," )"),i.x+15,i.y-5),t.fillText("(".concat(d(r.x)," ; ").concat(d(r.y)," )"),o.x+15,o.y-5)}t.clearRect(0,0,e.width,e.height),n(w,k,s),n(F,W,x);var r=l({p1:w,p2:k},{p1:F,p2:W});if(A(r),void 0!==r.x){var i=D(r);t.strokeStyle="grey",t.lineWidth=3,t.beginPath(),t.moveTo(i.x,i.y),t.arc(i.x,i.y,3,0,2*Math.PI,!0),t.fillStyle="black",t.fillText("(".concat(d(r.x)," ; ").concat(d(r.y)," )"),i.x+15,i.y-5),t.closePath(),t.stroke()}}}}),[w,k,F,W,D]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"message",children:[Object(b.jsxs)("div",{style:{color:s},children:[" ",j(w,k)]}),Object(b.jsxs)("div",{style:{color:x},children:[" ",j(F,W)]}),Object(b.jsx)("div",{style:{color:"grey"},children:void 0===q.x?"\u2205 ( \u043f\u0440\u044f\u043c\u044b\u0435 \u043f\u0430\u0440\u0430\u043b\u0435\u043b\u044c\u043d\u044b )":"\u0442\u043e\u0447\u043a\u0430 \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u044f (".concat(d(q.x)," ; ").concat(d(q.y)," )")})]}),Object(b.jsx)("div",{className:"fullScreen",children:Object(b.jsx)("canvas",{ref:i,height:n,width:t})}),Object(b.jsx)("div",{className:"fullScreen",children:Object(b.jsx)("canvas",{ref:c,height:n,width:t})})]})};n(12);var O=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useState)({width:600,height:600}),c=Object(a.a)(n,2),i=c[0],o=c[1];function u(){t.current&&clearTimeout(t.current),t.current=setTimeout((function(){if(e.current){var t=e.current.getBoundingClientRect();o({width:t.width,height:t.height})}}),200)}return Object(r.useLayoutEffect)((function(){return u(),window.addEventListener("resize",u),function(){window.removeEventListener("resize",u),t.current&&clearTimeout(t.current)}}),[]),Object(b.jsx)("div",{className:"App fullScreen",ref:e,children:Object(b.jsx)(m,{width:i.width,height:i.height})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),i(e),o(e)}))};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),p()}},[[13,1,2]]]);
//# sourceMappingURL=main.75aa3560.chunk.js.map