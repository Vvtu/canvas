(this.webpackJsonpcanvas=this.webpackJsonpcanvas||[]).push([[0],{13:function(e,t){},26:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(19),o=n.n(i),a=(n(26),n(6)),s=n(4),u=n(12),h=n(2),x="red",l="blue",v="#ddd",y="#000",d=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},f=function(e){return Number.isInteger(e)?e.toFixed(0):e.toFixed(2)},j=function(e){var t=Object(s.a)({},e),n=Math.round(t.x),r=!1;Math.abs(n-t.x)<.1&&(t.x=n,r=!0);var c=Math.round(t.y);return Math.abs(c-t.y)<.2&&(t.y=c,r=!0),r?t:e};function b(e,t){for(var n,r=e.p2.x-e.p1.x,c=t.p2.x-t.p1.x,i=e.p2.y-e.p1.y,o=t.p2.y-t.p1.y,a=i,s=-r,u=e.p1.y*r-e.p1.x*i,h=o,x=-c,l=t.p1.y*c-t.p1.x*o,v=0;v<2;v+=1){if(0!==a){var y=x-s*h/a;if(0!==y){var d=-(l-u*h/a)/y,f=(-u-s*d)/a;return 0===v?{x:f,y:d}:{x:d,y:f}}}n=a,a=s,s=n,n=h,h=x,x=n}return{}}n(13);var p=n(1);function O(e){var t=e.width,n=e.height,c=e.scale,i=Object(r.useRef)(),o=Object(r.useCallback)((function(e){var r=e.x,i=e.y;return{x:r*c+t/2,y:-i*c+n/2}}),[n,t,c]);return Object(r.useEffect)((function(){if(i.current){var e=i.current,t=e.getContext("2d");if(t){t.clearRect(0,0,e.width,e.height),t.strokeStyle=v,t.lineWidth=1,t.beginPath();for(var n=Math.round(Math.max(e.height,e.width)/c/2),r=-n;r<n;r+=1){var a=o({x:r,y:0}),s=o({x:r,y:0});t.moveTo(a.x,0),t.lineTo(s.x,e.height)}for(var u=-n;u<n;u+=1){var h=o({x:0,y:u}),x=o({x:0,y:u});t.moveTo(0,h.y),t.lineTo(e.width,x.y)}t.closePath(),t.stroke(),t.strokeStyle=y,t.lineWidth=1,t.beginPath();var l=o({x:-n,y:0}),d=o({x:n,y:0});t.moveTo(l.x,l.y),t.lineTo(d.x+10,d.y),t.moveTo(e.width-15,d.y-3),t.lineTo(e.width-2,d.y),t.moveTo(e.width-15,d.y+3),t.lineTo(e.width-2,d.y);var f=o({x:0,y:-n}),j=o({x:0,y:n});t.moveTo(f.x,f.y),t.lineTo(j.x,j.y),t.moveTo(j.x-3,15),t.lineTo(j.x,2),t.moveTo(j.x+3,15),t.lineTo(j.x,2),t.closePath(),t.stroke()}}}),[o,c]),Object(p.jsx)("div",{className:"fullScreen",children:Object(p.jsx)("canvas",{ref:i,height:n,width:t})})}function m(e){var t=e.scale,n=e.setScale;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"scaleButton1",onClick:function(){n(1.2*t)},children:"+"}),Object(p.jsx)("div",{className:"scaleButton2",onClick:function(){n(t/1.2)},children:"\u2212"})]})}var g=function(e,t){var n,r=t.x-e.x,c=t.y-e.y;if(0===r&&0===c)n="\u0442\u043e\u0447\u043a\u0438 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442";else if(0===r)n="k = \u221e";else{var i=c/r,o=-e.x*i+e.y;n="y = ".concat(f(i)," * x").concat(0===o?"":" ".concat(o>0?"+":""," ").concat(f(o)))}return n};function T(e){var t=e.width,n=e.height,c=e.scale,i=Object(r.useRef)(),o=Object(r.useRef)(),u=Object(r.useState)(!1),h=Object(a.a)(u,2),v=h[0],y=h[1],T=Object(r.useState)({x:-2,y:-2}),w=Object(a.a)(T,2),E=w[0],k=w[1],L=Object(r.useState)({x:2,y:2}),S=Object(a.a)(L,2),M=S[0],P=S[1],C=Object(r.useState)({x:0,y:-2}),R=Object(a.a)(C,2),W=R[0],N=R[1],F=Object(r.useState)({x:4,y:2}),I=Object(a.a)(F,2),B=I[0],A=I[1],X=Object(r.useState)({}),q=Object(a.a)(X,2),z=q[0],J=q[1],Y=Object(r.useCallback)((function(e){var r=e.x,i=e.y;return{x:r*c+t/2,y:-i*c+n/2}}),[n,t,c]),D=Object(r.useCallback)((function(e){var r=e.x,i=e.y;return{x:(r-t/2)/c,y:-(i-n/2)/c}}),[n,t,c]);Object(r.useEffect)((function(){return function(){o.current&&clearTimeout(o.current)}}),[]);var H=function(e){if(i.current&&!1!==v){var t=i.current,n=D({x:e.pageX-t.offsetLeft,y:e.pageY-t.offsetTop}),r=0,c=[d(n,E),d(n,M),d(n,W),d(n,B)];if(c.forEach((function(e,t){e<c[r]&&(r=t)})),c[r]<1)switch(r){case 0:k(n);break;case 1:P(n);break;case 2:N(n);break;case 3:A(n)}o.current&&clearTimeout(o.current),o.current=setTimeout((function(){k(j(E)),P(j(M)),N(j(W)),A(j(B))}),300)}},U=function(){return y(!1)},V=function(){return y(!0)};return Object(r.useEffect)((function(){if(i.current){var e=i.current;return e.addEventListener("mousedown",V),e.addEventListener("mousemove",H),e.addEventListener("mouseup",U),e.addEventListener("touchstart",V),e.addEventListener("touchend",U),e.addEventListener("touchmove",H),function(){e.removeEventListener("mousedown",V),e.removeEventListener("mousemove",H),e.removeEventListener("mouseup",U),e.removeEventListener("touchstart",V),e.removeEventListener("touchend",U),e.removeEventListener("touchmove",H)}}})),Object(r.useEffect)((function(){if(i.current){var e=i.current,t=e.getContext("2d");if(t){function n(n,r,c){t.strokeStyle=c,t.lineWidth=3,t.beginPath();var i=Y(n),o=Y(r);t.moveTo(i.x,i.y),t.arc(i.x,i.y,3,0,2*Math.PI,!0),t.moveTo(o.x,o.y),t.arc(o.x,o.y,3,0,2*Math.PI,!0);var a=b({p1:i,p2:o},{p1:{x:0,y:0},p2:{x:0,y:e.height}}),s=b({p1:i,p2:o},{p1:{x:e.width,y:0},p2:{x:e.width,y:e.height}});void 0!==a.x&&void 0!==s.x||(a={x:i.x,y:0},s={x:i.x,y:e.height}),t.moveTo(a.x,a.y),t.lineTo(s.x,s.y),t.closePath(),t.stroke(),t.font="30px serif",t.fillStyle=c,t.fillText("(".concat(f(n.x)," ; ").concat(f(n.y)," )"),i.x+15,i.y-5),t.fillText("(".concat(f(r.x)," ; ").concat(f(r.y)," )"),o.x+15,o.y-5)}t.clearRect(0,0,e.width,e.height),n(E,M,x),n(W,B,l);var r=b({p1:E,p2:M},{p1:W,p2:B});if(J(r),void 0!==r.x){var c=Y(r);t.strokeStyle="grey",t.lineWidth=3,t.beginPath(),t.moveTo(c.x,c.y),t.arc(c.x,c.y,3,0,2*Math.PI,!0),t.fillStyle="black",t.fillText("(".concat(f(r.x)," ; ").concat(f(r.y)," )"),c.x+15,c.y-5),t.closePath(),t.stroke()}}}}),[E,M,W,B,Y]),Object(p.jsx)(r.Profiler,{id:"Navigation",onRender:function(e,t,n,r,c,i,o){},children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(O,Object(s.a)({},e)),Object(p.jsxs)("div",{className:"fullScreen",children:[Object(p.jsx)("canvas",{ref:i,height:n,width:t}),Object(p.jsx)(m,Object(s.a)({},e))]}),Object(p.jsxs)("div",{className:"message",children:[Object(p.jsx)("div",{style:{color:x},children:g(E,M)}),Object(p.jsx)("div",{style:{color:l},children:g(W,B)}),Object(p.jsx)("div",{style:{color:"grey"},children:void 0===z.x?"\u2205 ( \u043f\u0440\u044f\u043c\u044b\u0435 \u043f\u0430\u0440\u0430\u043b\u0435\u043b\u044c\u043d\u044b )":"\u0442\u043e\u0447\u043a\u0430 \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u044f (".concat(f(z.x)," ; ").concat(f(z.y)," )")})]})]})})}var w=n(21),E=[{name:"A",prev:2,next:1},{name:"B",prev:0,next:2},{name:"C",prev:1,next:0}];function k(e){var t=e.width,n=e.height,c=e.scale,i=Object(r.useRef)(),o=Object(r.useRef)(),u=Object(r.useState)(!1),h=Object(a.a)(u,2),l=h[0],y=h[1],f=Object(r.useState)([{x:-2,y:-2},{x:2,y:2},{x:0,y:-3}]),g=Object(a.a)(f,2),T=g[0],k=g[1],L=Object(r.useCallback)((function(e){var r=e.x,i=e.y;return{x:r*c+t/2,y:-i*c+n/2}}),[n,t,c]),S=Object(r.useCallback)((function(e){var r=e.x,i=e.y;return{x:(r-t/2)/c,y:-(i-n/2)/c}}),[n,t,c]);Object(r.useEffect)((function(){return function(){o.current&&clearTimeout(o.current)}}),[]);var M=function(e){if(i.current&&!1!==l){var t=i.current,n=S({x:e.pageX-t.offsetLeft,y:e.pageY-t.offsetTop}),r=0,c=Number.MAX_VALUE;if(T.forEach((function(e,t){var i=d(e,n);c>=i&&(c=i,r=t)})),c<1){var a=Object(w.a)(T);a[r]=n,k(a)}o.current&&clearTimeout(o.current),o.current=setTimeout((function(){var e=T.map((function(e){return j(e)}));k(e)}),300)}},P=function(){return y(!1)},C=function(){return y(!0)};return Object(r.useEffect)((function(){if(i.current){var e=i.current;return e.addEventListener("mousedown",C),e.addEventListener("mousemove",M),e.addEventListener("mouseup",P),e.addEventListener("touchstart",C),e.addEventListener("touchend",P),e.addEventListener("touchmove",M),function(){e.removeEventListener("mousedown",C),e.removeEventListener("mousemove",M),e.removeEventListener("mouseup",P),e.removeEventListener("touchstart",C),e.removeEventListener("touchend",P),e.removeEventListener("touchmove",M)}}})),Object(r.useEffect)((function(){if(i.current){var e=i.current,t=e.getContext("2d");if(t){t.clearRect(0,0,e.width,e.height);var n=T.map((function(e,t){return Object(s.a)(Object(s.a)({},E[t]),{},{point:L(e)})})),r=[],c=[],o=[];n.forEach((function(i){var a=n[i.next].point,s=n[i.prev].point;c.push(d(a,s));var u=b({p1:i.point,p2:a},{p1:{x:0,y:0},p2:{x:0,y:e.height}}),h=b({p1:i.point,p2:a},{p1:{x:e.width,y:0},p2:{x:e.width,y:e.height}});void 0!==u.x&&void 0!==h.x||(u={x:i.point.x,y:0},h={x:i.point.x,y:e.height}),t.strokeStyle=v,t.lineWidth=1,t.beginPath(),t.moveTo(u.x,u.y),t.lineTo(h.x,h.y),t.closePath(),t.stroke(),t.lineWidth=4,t.strokeStyle=x,t.beginPath(),t.moveTo(i.point.x,i.point.y),t.lineTo(a.x,a.y),t.closePath(),t.stroke();var l={x:(s.x+a.x)/2,y:(s.y+a.y)/2};t.lineWidth=1,t.strokeStyle="#004",t.beginPath(),t.moveTo(i.point.x,i.point.y),t.lineTo(l.x,l.y),t.closePath(),t.stroke();var y=(Math.atan2(s.y-i.point.y,s.x-i.point.x)+Math.atan2(a.y-i.point.y,a.x-i.point.x))/2,f=b({p1:a,p2:s},{p1:i.point,p2:{x:i.point.x+Math.cos(y),y:i.point.y+Math.sin(y)}});r.push({p1:i.point,p2:f}),t.lineWidth=1,t.strokeStyle="green",t.beginPath(),t.moveTo(i.point.x,i.point.y),t.lineTo(f.x,f.y),t.closePath(),t.stroke();var j={x:i.point.x-30*Math.cos(y),y:i.point.y-30*Math.sin(y)};d(i.point,f)>d(j,f)&&(j={x:i.point.x+30*Math.cos(y),y:i.point.y+30*Math.sin(y)}),t.font="30px serif",t.fillStyle=x,t.fillText(i.name,j.x-10,j.y+7);var p=Math.atan2(a.y-s.y,a.x-s.x)+Math.PI/2,O=b({p1:a,p2:s},{p1:i.point,p2:{x:i.point.x+Math.cos(p),y:i.point.y+Math.sin(p)}});o.push({p1:l,p2:{x:l.x+Math.cos(p),y:l.y+Math.sin(p)}}),t.lineWidth=1,t.strokeStyle="#777",t.beginPath(),t.moveTo(i.point.x,i.point.y),t.lineTo(O.x,O.y),t.closePath(),t.stroke()}));var a=b(r[0],r[1]),u=(c[0]+c[1]+c[2])/2,h=Math.sqrt((u-c[0])*(u-c[1])*(u-c[2])/u);t.lineWidth=1,t.strokeStyle="brown",t.beginPath(),t.moveTo(a.x+h,a.y),t.arc(a.x,a.y,h,0,2*Math.PI,!0),t.closePath(),t.stroke();var l=b(o[0],o[1]),y=d(l,n[0].point);t.lineWidth=1,t.strokeStyle="brown",t.beginPath(),t.moveTo(l.x+y,l.y),t.arc(l.x,l.y,y,0,2*Math.PI,!0),t.closePath(),t.stroke()}}}),[T,L]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(O,Object(s.a)({},e)),Object(p.jsxs)("div",{className:"fullScreen",children:[Object(p.jsx)("canvas",{ref:i,height:n,width:t}),Object(p.jsx)(m,Object(s.a)({},e))]})]})}var L="/lines",S="/triangle";function M(e){return Object(p.jsx)(u.a,{children:Object(p.jsxs)(h.c,{children:[Object(p.jsx)(h.a,{path:L,children:Object(p.jsx)(T,Object(s.a)({},e))}),Object(p.jsx)(h.a,{path:S,children:Object(p.jsx)(k,Object(s.a)({},e))}),Object(p.jsx)(h.a,{path:"/",children:Object(p.jsx)("nav",{children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(u.b,{to:"/",children:"Home"})}),Object(p.jsx)("li",{children:Object(p.jsx)(u.b,{to:L,children:"Lines"})}),Object(p.jsx)("li",{children:Object(p.jsx)(u.b,{to:S,children:"Triangle"})})]})})})]})})}n(36);var P=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useState)({width:600,height:600}),c=Object(a.a)(n,2),i=c[0],o=c[1],s=Object(r.useState)(60),u=Object(a.a)(s,2),h=u[0],x=u[1];function l(){t.current&&clearTimeout(t.current),t.current=setTimeout((function(){if(e.current){var t=e.current.getBoundingClientRect();o({width:t.width,height:t.height})}}),200)}return Object(r.useLayoutEffect)((function(){return l(),window.addEventListener("resize",l),function(){window.removeEventListener("resize",l),t.current&&clearTimeout(t.current)}}),[]),Object(p.jsx)("div",{className:"App fullScreen",ref:e,children:Object(p.jsx)(M,{width:i.width,height:i.height,scale:h,setScale:x})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),i(e),o(e)}))};o.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(P,{})}),document.getElementById("root")),C()}},[[37,1,2]]]);
//# sourceMappingURL=main.dbe0a21a.chunk.js.map