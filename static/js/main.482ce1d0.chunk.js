(this.webpackJsonpcanvas=this.webpackJsonpcanvas||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(4),o=n.n(i),a=(n(10),n(2)),u=n(5),s="red",h="#ddd",x="#000",v=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},f=function(e){return Number.isInteger(e)?e.toFixed(1):e.toFixed(2)},d=function(e){var t=Object(u.a)({},e),n=Math.round(t.x),r=!1;Math.abs(n-t.x)<.1&&(t.x=n,r=!0);var c=Math.round(t.y);return Math.abs(c-t.y)<.2&&(t.y=c,r=!0),r?t:e};function y(e,t){for(var n,r=e.p2.x-e.p1.x,c=t.p2.x-t.p1.x,i=e.p2.y-e.p1.y,o=t.p2.y-t.p1.y,a=i,u=-r,s=e.p1.y*r-e.p1.x*i,h=o,x=-c,v=t.p1.y*c-t.p1.x*o,f=0;f<2;f+=1){if(0!==a){var d=x-u*h/a;if(0!==d){var y=-(v-s*h/a)/d,l=(-s-u*y)/a;return 0===f?{x:l,y:y}:{x:y,y:l}}}n=a,a=u,u=n,n=h,h=x,x=n}return{}}var l=n(1),m=function(e){var t=e.width,n=e.height,c=Object(r.useRef)(),i=Object(r.useRef)(),o=Object(r.useRef)(),u=Object(r.useState)(!1),m=Object(a.a)(u,2),b=m[0],j=m[1],p=Object(r.useState)({x:-2,y:-2}),g=Object(a.a)(p,2),O=g[0],T=g[1],w=Object(r.useState)({x:2,y:2}),E=Object(a.a)(w,2),L=E[0],S=E[1],M=Object(r.useCallback)((function(e){var r=e.x,c=e.y;return{x:60*r+t/2,y:60*-c+n/2}}),[n,t]),k=Object(r.useCallback)((function(e){var r=e.x,c=e.y;return{x:(r-t/2)/60,y:-(c-n/2)/60}}),[n,t]);Object(r.useEffect)((function(){return function(){o.current&&clearTimeout(o.current)}}),[]);var P=function(e){if(c.current&&!1!==b){var t=c.current,n=k({x:e.pageX-t.offsetLeft,y:e.pageY-t.offsetTop}),r=v(n,O),i=v(n,L);r<i&&r<1?T(n):i<r&&i<1&&S(n),o.current&&clearTimeout(o.current),o.current=setTimeout((function(){T(d(O)),S(d(L))}),300)}},C=function(){return j(!1)},F=function(){return j(!0)};Object(r.useEffect)((function(){if(c.current){var e=c.current;return e.addEventListener("mousedown",F),e.addEventListener("mousemove",P),e.addEventListener("mouseup",C),e.addEventListener("touchstart",F),e.addEventListener("touchend",C),e.addEventListener("touchmove",P),function(){e.removeEventListener("mousedown",F),e.removeEventListener("mousemove",P),e.removeEventListener("mouseup",C),e.removeEventListener("touchstart",F),e.removeEventListener("touchend",C),e.removeEventListener("touchmove",P)}}})),Object(r.useEffect)((function(){if(i.current){var e=i.current,t=e.getContext("2d");if(t){t.strokeStyle=h,t.lineWidth=1,t.beginPath();for(var n=Math.round(Math.max(e.height,e.width)/60/2),r=-n;r<n;r+=1){var c=M({x:r,y:0}),o=M({x:r,y:0});t.moveTo(c.x,0),t.lineTo(o.x,e.height)}for(var a=-n;a<n;a+=1){var u=M({x:0,y:a}),s=M({x:0,y:a});t.moveTo(0,u.y),t.lineTo(e.width,s.y)}t.closePath(),t.stroke(),t.strokeStyle=x,t.lineWidth=1,t.beginPath();var v=M({x:-n,y:0}),f=M({x:n,y:0});t.moveTo(v.x,v.y),t.lineTo(f.x,f.y),t.moveTo(e.width-15,f.y-3),t.lineTo(e.width-2,f.y),t.moveTo(e.width-15,f.y+3),t.lineTo(e.width-2,f.y);var d=M({x:0,y:-n}),y=M({x:0,y:n});t.moveTo(d.x,d.y),t.lineTo(y.x,y.y),t.moveTo(y.x-3,15),t.lineTo(y.x,2),t.moveTo(y.x+3,15),t.lineTo(y.x,2),t.closePath(),t.stroke()}}}),[M]),Object(r.useEffect)((function(){if(c.current){var e=c.current,t=e.getContext("2d");if(t){t.clearRect(0,0,e.width,e.height),t.strokeStyle=s,t.lineWidth=3,t.beginPath();var n=M(O),r=M(L);t.moveTo(n.x,n.y),t.arc(n.x,n.y,3,0,2*Math.PI,!0),t.moveTo(r.x,r.y),t.arc(r.x,r.y,3,0,2*Math.PI,!0);var i=y({p1:n,p2:r},{p1:{x:0,y:0},p2:{x:0,y:e.height}}),o=y({p1:n,p2:r},{p1:{x:e.width,y:0},p2:{x:e.width,y:e.height}});void 0!==i.x&&void 0!==o.x||(i={x:n.x,y:0},o={x:n.x,y:e.height}),t.moveTo(i.x,i.y),t.lineTo(o.x,o.y),t.closePath(),t.stroke(),t.font="30px serif",t.fillStyle="red",t.fillText("(".concat(f(O.x),", ").concat(f(O.y)," )"),n.x+15,n.y-5),t.fillText("(".concat(f(L.x),", ").concat(f(L.y)," )"),r.x+15,r.y-5)}}}),[O,L,M]);var R,I=L.x-O.x,N=L.y-O.y;if(0===I&&0===N)R="\u0442\u043e\u0447\u043a\u0438 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442";else if(0===I)R="k = \u221e";else{var B=N/I,W=-O.x*B+O.y;R="y = ".concat(f(B)," * x").concat(0===W?"":" ".concat(W>0?"+":""," ").concat(f(W)))}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"message",children:R}),Object(l.jsx)("div",{className:"fullScreen",children:Object(l.jsx)("canvas",{ref:i,height:n,width:t})}),Object(l.jsx)("div",{className:"fullScreen",children:Object(l.jsx)("canvas",{ref:c,height:n,width:t})})]})};n(12);var b=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useState)({width:600,height:600}),c=Object(a.a)(n,2),i=c[0],o=c[1];function u(){t.current&&clearTimeout(t.current),t.current=setTimeout((function(){if(e.current){var t=e.current.getBoundingClientRect();o({width:t.width,height:t.height})}}),200)}return Object(r.useLayoutEffect)((function(){return u(),window.addEventListener("resize",u),function(){window.removeEventListener("resize",u),t.current&&clearTimeout(t.current)}}),[]),Object(l.jsx)("div",{className:"App fullScreen",ref:e,children:Object(l.jsx)(m,{width:i.width,height:i.height})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),i(e),o(e)}))};o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root")),j()}},[[13,1,2]]]);
//# sourceMappingURL=main.482ce1d0.chunk.js.map